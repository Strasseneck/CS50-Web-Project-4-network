{% extends "network/layout.html" %}
{% load static %}

{% block body %}
<strong>{{ user_profile.username }}</strong> 
{% if user.is_authenticated and user_profile != current_user %}
        {% if current_user in user_profile.followers.all %}
            <form action="{% url 'unfollow' %}" method="post">
                {% csrf_token %}
                <input type="hidden" id="userid" name="userid" value="{{ user_profile.id }}">
                <input class="btn btn-primary" type="submit" value="Unfollow">
            </form>
        {% else %}
            <form action="{% url 'follow' %}" method="post">
                {% csrf_token %}
                <input type="hidden" id="userid" name="userid" value="{{ user_profile.id }}">
                <input class="btn btn-primary" type="submit" value="follow">
            </form>
        {% endif %}
{% endif %}

<p id="follower-count">Followers: {{ user_profile.followers.count }}</p>
<p id="follower-count">Following: {{ user_profile.following.count}}</p>

{% for post in page_obj %}
<div id="{{ post.id }}" class="post-container">
    <div class="post-header">
        <div class="user-header">
            <strong class="post-username">{{ post.user }}</strong>
        <a class="nav-link active user-profile" href="/profile/{{ post.user }}">@{{ post.user }}</a>
        </div>
        {% if post.user == current_user %}
                <div class="button-container" id="button-container{{ post.id }}"></div>
            {% endif %} 
    </div>
    <p id="post-body" class="post-body">{{ post.body }}   
    </p>
    <p class="post-likes">{{ post.likes.count }} Likes</p>
    <p class="post-timestamp">{{ post.timestamp }}</p>
    <div class="button-container">
        <div class="individual-button">
            <button class="unlike-post-button">
                <img class="icon" src="{% static 'network/unlike.png' %}">
            </button> 
        </div>
        <div class="individual-button">
            <button type="button" class="like-post-button">
                <img class="icon" src="{% static 'network/like.png' %}">
            </button>
        </div>                 
     </div>
</div>
{% endfor %}
{% endblock %}